{"version":3,"sources":["../../../src/routes/commentRouter/commentRoute.js"],"names":["router","post","req","res","newComment","body","save","errz","err","send","json","get","find","comments","findByIdAndUpdate","params","commentid","$set","content","updatedComment","module","exports"],"mappings":";;AAAA;;AACA;;;;AAEA;;;;AACA;;;;;;AAEA,IAAMA,SAAS,sBAAf;;AAEA;;AAEA;AACA;;AAEAA,OAAOC,IAAP,CAAY,MAAZ,EAAoB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC9B,QAAMC,aAAa,sBAAYF,IAAIG,IAAhB,CAAnB;;AAEAD,eAAWE,IAAX,CAAgB,UAACC,IAAD,EAAU;AACtB,YAAIC,GAAJ,EAAS;AACLL,gBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,YAAIO,IAAJ,CAAS;AACL,uBAAW;AADN,SAAT;AAGH,KAPD;AAQH,CAXD;;AAaA;AACA;;AAEAV,OAAOW,GAAP,CAAW,GAAX,EAAgB,UAACT,GAAD,EAAMC,GAAN,EAAc;AAC1B,sBAAQS,IAAR,CAAa,EAAb,EAAiB,UAACJ,GAAD,EAAMK,QAAN,EAAmB;AAChC,YAAIL,GAAJ,EAAS;AACLL,gBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,YAAIO,IAAJ,CAAS,EAAEG,kBAAF,EAAT;AACH,KALD;AAMH,CAPD;;AASA;AACA;;AAEAb,OAAOC,IAAP,CAAY,kBAAZ,EAAgC,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1C,sBAAQW,iBAAR,CACIZ,IAAIa,MAAJ,CAAWC,SADf,EAEI,EAAEC,MAAM,EAAEC,SAAShB,IAAIG,IAAJ,CAASa,OAApB,EAAR,EAFJ,EAGI,UAACV,GAAD,EAAMW,cAAN,EAAyB;AACrB,YAAIX,GAAJ,EAAS;AACLL,gBAAIM,IAAJ,CAASD,GAAT;AACH;AACDL,YAAIO,IAAJ,CAAS;AACL,uBAAW;AADN,SAAT;AAGH,KAVL;AAWH,CAZD;;AAcAU,OAAOC,OAAP,GAAiBrB,MAAjB","file":"commentRoute.js","sourcesContent":["import { Router } from 'express';\nimport mongoose from 'mongoose';\n\nimport Article from '../../models/Article';\nimport Comment from '../../models/Comment';\n\nconst router = Router();\n\n// ROUTES COMMENTAIRES\n\n// ajouter un commentaire pour un article\n// route 'app/comments/add'\n\nrouter.post('/add', (req, res) => {\n    const newComment = new Comment(req.body);\n\n    newComment.save((errz) => {\n        if (err) {\n            res.send(err);\n        }\n        res.json({\n            \"success\": \"A comment has been saved\"\n        });\n    });\n});\n\n// voir les commentaires\n// route '/app/comments'\n\nrouter.get('/', (req, res) => {\n    Comment.find({}, (err, comments) => {\n        if (err) {\n            res.send(err);\n        }\n        res.json({ comments });\n    })\n});\n\n// Ã©diter un commentaire\n// route /app/articles/:commentid/edit\n\nrouter.post('/:commentid/edit', (req, res) => {\n    Comment.findByIdAndUpdate(\n        req.params.commentid,\n        { $set: { content: req.body.content } },\n        (err, updatedComment) => {\n            if (err) {\n                res.send(err)\n            }\n            res.json({\n                \"success\": \"comment updated\"\n            })\n        });\n});\n\nmodule.exports = router;"]}